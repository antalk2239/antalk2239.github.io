<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Motrixâ€”â€”ä¸€æ¬¾èµçˆ†çš„ä¸‹è½½å·¥å…·</title>
      <link href="/archives/8d9d6c10.html"/>
      <url>/archives/8d9d6c10.html</url>
      
        <content type="html"><![CDATA[<p>Motrix æ˜¯ä¸€æ¬¾å…¨èƒ½çš„ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒä¸‹è½½ HTTPã€FTPã€BTã€ç£åŠ›é“¾ç­‰èµ„æºã€‚å®ƒçš„ç•Œé¢ç®€æ´æ˜“ç”¨ã€‚ä½¿ç”¨çš„æ˜¯aria2å†…æ ¸ã€‚</p><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p> <a href="https://motrix.app/zh-CN">å®˜ç½‘</a> æä¾›äº†å·²ç»ç¼–è¯‘å¥½çš„ç¨³å®šç‰ˆå®‰è£…åŒ…</p><p>åˆ†æµåœ°å€ï¼š<a href="https://cloud.189.cn/web/share?code=67baUzMFfuy2">å¤©ç¿¼äº‘ç›˜</a></p><p>è®¿é—®ç ï¼š3kzl</p><p>ä¸‹è½½å³å¯å®‰è£…</p><h2 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h2><ul><li>ğŸ•¹ ç®€æ´æ˜äº†çš„å›¾å½¢æ“ä½œç•Œé¢</li><li>ğŸ¦„ æ”¯æŒBTå’Œç£åŠ›é“¾ä»»åŠ¡</li><li>â˜‘ï¸ æ”¯æŒé€‰æ‹©æ€§ä¸‹è½½BTéƒ¨åˆ†æ–‡ä»¶</li><li>ğŸ“¡ æ¯å¤©è‡ªåŠ¨æ›´æ–° Tracker æœåŠ¡å™¨åˆ—è¡¨</li><li>ğŸ”Œ UPnP &amp; NAT-PMP ç«¯å£æ˜ å°„</li><li>ğŸ› æœ€é«˜æ”¯æŒ 10 ä¸ªä»»åŠ¡åŒæ—¶ä¸‹è½½</li><li>ğŸš€ å•ä»»åŠ¡æœ€é«˜æ”¯æŒ 64 çº¿ç¨‹ä¸‹è½½</li><li>ğŸš¥ è®¾ç½®ä¸Šä¼ /ä¸‹è½½é™é€Ÿ</li><li>ğŸ•¶ æ¨¡æ‹Ÿç”¨æˆ·ä»£ç†UA</li><li>ğŸ”” ä¸‹è½½å®Œæˆåé€šçŸ¥</li><li>ğŸ’» æ”¯æŒè§¦æ§æ å¿«æ·é”® (Mac ä¸“äº«)</li><li>ğŸ¤– å¸¸é©»ç³»ç»Ÿæ‰˜ç›˜ï¼Œæ“ä½œæ›´åŠ ä¾¿æ·</li><li>ğŸ“Ÿ ç³»ç»Ÿæ‰˜ç›˜é€Ÿåº¦ä»ªè¡¨æ˜¾ç¤ºå®æ—¶é€Ÿåº¦ (Mac ä¸“äº«)</li><li>ğŸŒ‘ æ·±è‰²æ¨¡å¼</li><li>ğŸ—‘ ç§»é™¤ä»»åŠ¡æ—¶å¯åŒæ—¶åˆ é™¤ç›¸å…³æ–‡ä»¶</li><li>ğŸŒ å›½é™…åŒ–ï¼Œ<a href="#-%E5%9B%BD%E9%99%85%E5%8C%96">æŸ¥çœ‹å·²å¯é€‰çš„è¯­è¨€</a></li><li>ğŸ›  æ›´å¤šç‰¹æ€§å¼€å‘ä¸­</li></ul><h2 id="åº”ç”¨ç•Œé¢"><a href="#åº”ç”¨ç•Œé¢" class="headerlink" title="åº”ç”¨ç•Œé¢"></a>åº”ç”¨ç•Œé¢</h2><p><img src="https://p.qlogo.cn/hy_personal/3e28f14aa0516842a549f79ad668bd9a283b0029910018ecc94c9e1bc88080a7/0.jpeg" alt="motrix-screenshot-task-cn.png"></p>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶åˆ†äº« </category>
          
          <category> ä¸‹è½½è½¯ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è½¯ä»¶ </tag>
            
            <tag> ä¸‹è½½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç»™onedriveåŠ é€Ÿ</title>
      <link href="/archives/d09d8f48.html"/>
      <url>/archives/d09d8f48.html</url>
      
        <content type="html"><![CDATA[<h1 id="onedrive-æé€Ÿä¸‹è½½"><a href="#onedrive-æé€Ÿä¸‹è½½" class="headerlink" title="onedrive æé€Ÿä¸‹è½½"></a>onedrive æé€Ÿä¸‹è½½</h1><p>å°†è¿™ä¸ªä»£ç  æ”¾åˆ°ä¸‹å›¾åœ°æ–¹å³å¯å‘ç°æ–°ä¸–ç•Œ</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">payload:</span>  </span><br><span class="line">  <span class="comment"># &gt; Microsoft</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">PROCESS-NAME,OneDrive,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-KEYWORD,onedrive,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,azure.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,fabric.io,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,files.1drv.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,hotmail.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,live.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,live.net,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,livefilestore.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,mesh.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,microsoft.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,microsoftonline.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,microsoft-tst.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,msn.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,office.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,office.net,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,onedrive.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,outlook.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,p.sfx.ms,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,s-microsoft.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,sharepoint.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,skype.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,spoprod-a.akamaihd.net,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,storage.msn.com,Proxy</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">DOMAIN-SUFFIX,antalk-my.sharepoint.com,Proxy</span></span><br></pre></td></tr></table></figure><p>åœ¨è®¾ç½®ä¸­æ‰¾åˆ°æ­¤é¡¹</p><p><img src="https://p.qlogo.cn/hy_personal/3e28f14aa05168421e9f4b4c26e3d78aac621c4e7707aae7428573f77c8a60b9/0.png" alt="image-20220528163652937"></p><p>åœ¨æœ«å°¾æ·»åŠ ä¸Šè¿°ä»£ç å¹¶ä¿å­˜</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
          <category> onedrive </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æé€Ÿ </tag>
            
            <tag> å¾®è½¯ </tag>
            
            <tag> onedrive </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é›¶æˆæœ¬æ­å»ºhexoåšå®¢</title>
      <link href="/archives/6fa2e9dc.html"/>
      <url>/archives/6fa2e9dc.html</url>
      
        <content type="html"><![CDATA[<h1 id="é›¶æˆæœ¬æ­å»ºä¸€ä¸ªhexoåšå®¢"><a href="#é›¶æˆæœ¬æ­å»ºä¸€ä¸ªhexoåšå®¢" class="headerlink" title="é›¶æˆæœ¬æ­å»ºä¸€ä¸ªhexoåšå®¢"></a>é›¶æˆæœ¬æ­å»ºä¸€ä¸ªhexoåšå®¢</h1><h2 id="å‰æœŸå‡†å¤‡"><a href="#å‰æœŸå‡†å¤‡" class="headerlink" title="å‰æœŸå‡†å¤‡"></a>å‰æœŸå‡†å¤‡</h2><ul><li>ä¸€ä¸ªåŸŸåï¼ˆæœ€å¥½æœ‰ æœ€å¥½å¤‡æ¡ˆï¼‰</li><li>ä¸€å°ç”µè„‘å¹¶ä¸”è”ç½‘</li><li>ä¸€ä¸ªgithubè´¦å·</li><li>ä¸€ä¸ªè…¾è®¯äº‘è´¦å·</li></ul><h2 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h2><h3 id="å®‰è£…hexoåŠnode-jsã€git"><a href="#å®‰è£…hexoåŠnode-jsã€git" class="headerlink" title="å®‰è£…hexoåŠnode.jsã€git"></a>å®‰è£…hexoåŠnode.jsã€git</h3><h4 id="å‰ç½®å®‰è£…"><a href="#å‰ç½®å®‰è£…" class="headerlink" title="å‰ç½®å®‰è£…"></a>å‰ç½®å®‰è£…</h4><ul><li><a href="http://nodejs.org/">Node.js</a> (Node.js ç‰ˆæœ¬éœ€ä¸ä½äº 10.13ï¼Œå»ºè®®ä½¿ç”¨ Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬)</li><li><a href="http://git-scm.com/">Git</a></li></ul><p>è‡ªè¡ŒæŸ¥è¯¢å®˜ç½‘æ–‡æ¡£ ä¸€ç›´ä¸‹ä¸€æ­¥å³å¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">v16.15.0</span><br><span class="line"></span><br><span class="line">git version</span><br><span class="line">git version 2.31.1.windows.1</span><br></pre></td></tr></table></figure><p>èƒ½æŸ¥å‡ºç‰ˆæœ¬å·å°±æ˜¯å®‰è£…æˆåŠŸ</p><h4 id="å®‰è£…hexo"><a href="#å®‰è£…hexo" class="headerlink" title="å®‰è£…hexo"></a>å®‰è£…hexo</h4><p>nodeå®‰è£…å®Œåå³å¯ä½¿ç”¨npmå®‰è£…hexo</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>å®‰è£… Hexo å®Œæˆåï¼Œè¯·æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p><code>_config.yml</code>ä¸­ç¼–è¾‘ä½ ç½‘ç«™å‚æ•°</p><p><code>scaffolds</code>æ¨¡ç‰ˆæ–‡ä»¶å¤¹ã€‚å½“æ‚¨æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ã€‚</p><p>Hexoçš„æ¨¡æ¿æ˜¯æŒ‡åœ¨æ–°å»ºçš„æ–‡ç« æ–‡ä»¶ä¸­é»˜è®¤å¡«å……çš„å†…å®¹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä¿®æ”¹scaffold/post.mdä¸­çš„Front-matterå†…å®¹ï¼Œé‚£ä¹ˆæ¯æ¬¡æ–°å»ºä¸€ç¯‡æ–‡ç« æ—¶éƒ½ä¼šåŒ…å«è¿™ä¸ªä¿®æ”¹ã€‚</p><p>è‡³æ­¤ ä½ å°±å¯ä»¥ç”¨ <code>hexo n yourfilename</code>å»åˆ›å»ºä¸€ç¯‡æ–°çš„æ–‡ç« äº†</p><p>hexoä½¿ç”¨<code>markdown</code>è¯­æ³•è¿›è¡Œç¼–å†™</p><h3 id="ä½¿ç”¨github-pageæ­å»ºåšå®¢ï¼ˆå¯èƒ½å¯¹å›½å†…ç”¨æˆ·ç›´æ¥è®¿é—®ä¸å¤ªå‹å¥½ï¼‰"><a href="#ä½¿ç”¨github-pageæ­å»ºåšå®¢ï¼ˆå¯èƒ½å¯¹å›½å†…ç”¨æˆ·ç›´æ¥è®¿é—®ä¸å¤ªå‹å¥½ï¼‰" class="headerlink" title="ä½¿ç”¨github pageæ­å»ºåšå®¢ï¼ˆå¯èƒ½å¯¹å›½å†…ç”¨æˆ·ç›´æ¥è®¿é—®ä¸å¤ªå‹å¥½ï¼‰"></a>ä½¿ç”¨github pageæ­å»ºåšå®¢ï¼ˆå¯èƒ½å¯¹å›½å†…ç”¨æˆ·ç›´æ¥è®¿é—®ä¸å¤ªå‹å¥½ï¼‰</h3><p>è®¾ç½®gitå‚æ•° <code>your name</code>ä¸ºgithubç”¨æˆ·å <code>email</code>ä¸ºç™»å½•é‚®ç®±</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;email@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>æ–°å»ºä¸€ä¸ªrepository</p><p><img src="https://p.qlogo.cn/hy_personal/3e28f14aa051684288254cd0ddf1c2b7f38f0a174508f1b3e7a3d83cbc17f5f3/0.png" alt="sL0QkDg"></p><p><strong>é¡¹ç›®åä¸€å®šæ˜¯ ä½ çš„æ˜µç§°.github.io</strong></p><p>åœ¨<code>_config.yml</code>ä¸­è®¾ç½®ä½ çš„gitåœ°å€</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">    <span class="attr">repo:</span></span><br><span class="line">      <span class="attr">github:</span> <span class="string">&#x27;your git&#x27;</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç©ºæ ¼ ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean <span class="comment"># æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">hexo g <span class="comment"># ç”Ÿæˆç½‘é¡µ</span></span><br><span class="line">hexo d <span class="comment"># å‘å¸ƒåˆ°deployé…ç½®çš„åœ°å€</span></span><br><span class="line">hexo s <span class="comment"># åˆ›å»ºæœ¬åœ°ç½‘ç«™æœåŠ¡</span></span><br></pre></td></tr></table></figure><p><strong>æ­£å¸¸å‘å¸ƒå’Œç”Ÿæˆæœ¬åœ°ç½‘ç«™å‰éƒ½è¦æ¸…é™¤ç¼“å­˜å’Œç”Ÿæˆç½‘é¡µ</strong></p><p>æ‰¾åˆ°è®¾ç½®</p><p><img src="https://p.qlogo.cn/hy_personal/3e28f14aa051684288254cd0ddf1c2b761bb5aafa31bbec5a47f9f57c7147c98/0.png" alt="RElF8fm"></p><p>æ‰¾åˆ°pagesé€‰é¡¹</p><p><img src="https://p.qlogo.cn/hy_personal/3e28f14aa051684288254cd0ddf1c2b730a68707041d20cca4e3b0f5b4b660fe/0.png" alt="image-20220527004149319"></p><p>é€‰æ‹©<code>master</code>åˆ†æ”¯</p><p>å¯ä»¥åœ¨<code>Custom domain</code>ç»‘å®šä½ çš„åŸŸå</p><p>åœ¨åŸŸåä¸­ç”¨<code>CNAME</code>è§£æåˆ° ä½ çš„æ˜µç§°.github.ioå³å¯è®¿é—®</p><p><strong>æ³¨æ„</strong></p><p>å¦‚æœä½ æœ¬åœ°çš„<code>source</code>æ–‡ä»¶ä¸­æ²¡æœ‰<code>CNAME</code>é‚£ä¹ˆå½“ä½ ç”¨<code>hexo d</code>æ¨é€çš„æ—¶å€™å›åˆ é™¤githubä¸­çš„<code>CNAME</code>æ–‡ä»¶</p><p><strong>è§£å†³åŠæ³•</strong></p><ul><li>åœ¨æœ¬åœ°æ–°<code>source</code>å»ºä¸€ä¸ªCNAMEæ–‡ä»¶ ç”¨è®°äº‹æœ¬ç¼–è¾‘ é‡Œé¢å¡«ä¸Šä½ çš„åŸŸåå³å¯</li><li>ä¸‹è½½githubä¸­çš„<code>CNAME</code>æ–‡ä»¶åˆ°æœ¬åœ°çš„<code>source</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
          <category> åšå®¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonä¸­æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ</title>
      <link href="/archives/7f8d1d03.html"/>
      <url>/archives/7f8d1d03.html</url>
      
        <content type="html"><![CDATA[<h1 id="pythonä¸­æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ"><a href="#pythonä¸­æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ" class="headerlink" title="pythonä¸­æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ"></a>pythonä¸­æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ</h1><h2 id="Mysql"><a href="#Mysql" class="headerlink" title="Mysql"></a>Mysql</h2><ol><li><code>connect</code>å‡½æ•°è¿æ¥åˆ°æ•°æ®åº“</li><li><code>cursor</code>ç›¸å½“äºè¾“å…¥æŒ‡ä»¤çš„çª—å£</li><li><code>execute</code>ç›¸å½“äºæ‰§è¡Œè¯­å¥</li><li><code>commit</code>ç›¸å½“äºä¿å­˜ï¼ˆå¢åŠ åˆ å‡ä¿®æ”¹å¿…é¡»ä½¿ç”¨ï¼‰</li><li><code>fetch</code>ç”¨äºè·å–è¿”å›æ•°æ®</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line">conn = pymysql.connect(host=<span class="string">&#x27;enmm.top&#x27;</span>, user=<span class="string">&#x27;python&#x27;</span>,database=<span class="string">&#x27;python&#x27;</span>,password=<span class="string">&#x27;cafx648174702&#x27;</span>, port=<span class="number">3306</span>)</span><br><span class="line">cursor = conn.cursor()</span><br><span class="line"><span class="comment"># # ==============================================================================</span></span><br><span class="line"><span class="comment"># # æ’å…¥æ•°æ®åº“</span></span><br><span class="line"><span class="comment"># sql =&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># insert into test(id,name,age) values (null,%s,%s)</span></span><br><span class="line"><span class="comment"># &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># name = &#x27;awab&#x27;</span></span><br><span class="line"><span class="comment"># age = 21</span></span><br><span class="line"><span class="comment"># # =============================================================================</span></span><br><span class="line"><span class="comment"># # æŸ¥æ‰¾æ•°æ®</span></span><br><span class="line"><span class="comment"># sql = &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># select * from test</span></span><br><span class="line"><span class="comment"># &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># # æ‰§è¡Œmysqlè¯­å¥</span></span><br><span class="line"><span class="comment"># cursor.execute(sql)</span></span><br><span class="line"><span class="comment"># # result = cursor.fetchone()</span></span><br><span class="line"><span class="comment"># result = cursor.fetchmany(2)</span></span><br><span class="line"><span class="comment"># print(result)</span></span><br><span class="line"><span class="comment"># # æäº¤æ•°æ® å¢åŠ  åˆ é™¤ ä¿®æ”¹ éœ€è¦commit</span></span><br><span class="line"><span class="comment"># conn.commit()</span></span><br><span class="line"><span class="comment"># # ============================================================================</span></span><br><span class="line"><span class="comment"># # åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment"># sql = &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># delete from test where id=1</span></span><br><span class="line"><span class="comment"># &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># # ===========================================================================</span></span><br><span class="line"><span class="comment"># æ›´æ–°æ•°æ®</span></span><br><span class="line">sql = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">update test set name=&#x27;uuu&#x27; where id=2</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line">conn.commit()</span><br><span class="line">conn.close()</span><br></pre></td></tr></table></figure><h2 id="mongo"><a href="#mongo" class="headerlink" title="mongo"></a>mongo</h2><ol><li>åˆ›å»ºè¿æ¥å¯¹è±¡</li><li>è·å–æ•°æ®åº“</li><li>è·å–é›†åˆ</li><li>è¿›è¡Œæ“ä½œï¼š<ul><li><code>insert_one()</code>ï¼šæ’å…¥ä¸€æ¡æ•°æ®</li><li><code>insert_many()</code>ï¼šæ’å…¥å¤šæ¡æ•°æ®ä½¿ç”¨åˆ—è¡¨å­—å…¸åµŒå¥—</li><li><code>find()</code>ï¼šæŸ¥æ‰¾æ•°æ®<strong>è¿”å›è¿­ä»£å™¨</strong></li><li><code>find_one()</code>æŸ¥æ‰¾ä¸€æ¡æ•°æ®</li><li><code>update_one()</code>æ›´æ–°ä¸€æ¡æ•°æ®</li><li><code>update_many()</code>æ›´æ–°å¤šæ¡æ•°æ®<code>&#123;æ¡ä»¶&#125;,&#123;&quot;$set&quot;:&#123;æ›¿æ¢ç±»å®¹&#125;&#125;</code></li><li><code>delete_one()</code>åˆ é™¤ä¸€æ¡æ»¡è¶³æ¡ä»¶çš„æ–‡æ¡£</li><li><code>delete_many()</code>åˆ é™¤å¤šæ¡æ»¡è¶³æ¡ä»¶çš„æ–‡æ¡£</li></ul></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"><span class="comment"># è·å–è¿æ¥å¯¹è±¡</span></span><br><span class="line">client = pymongo.MongoClient(host=<span class="string">&#x27;127.0.0.1&#x27;</span>,port=<span class="number">27017</span>)</span><br><span class="line"><span class="comment"># è·å–æ•°æ®åº“</span></span><br><span class="line">db = client.zhihu</span><br><span class="line"><span class="comment"># è·å–é›†åˆ</span></span><br><span class="line">collection = db.qa</span><br><span class="line"><span class="comment"># # æ’å…¥æ•°æ®</span></span><br><span class="line"><span class="comment"># collection.insert_many([&#123;&#x27;name&#x27;:&#x27;abs&#x27;,&#x27;age&#x27;:18&#125;,&#123;&#x27;name&#x27;:&#x27;abaas&#x27;,&#x27;age&#x27;:28&#125;,&#123;&#x27;name&#x27;:&#x27;abddds&#x27;,&#x27;age&#x27;:12&#125;])</span></span><br><span class="line"><span class="comment"># # findæ–¹æ³•</span></span><br><span class="line"><span class="comment"># result = collection.find(&#123;&#x27;name&#x27;:&#x27;abaas&#x27;,&#x27;age&#x27;:28&#125;)</span></span><br><span class="line"><span class="comment"># for x in result:</span></span><br><span class="line"><span class="comment">#     print(x)</span></span><br><span class="line"><span class="comment"># # æ›´æ–°æ•°æ®</span></span><br><span class="line"><span class="comment"># collection.update_one(&#123;&#x27;name&#x27;:&#x27;abaas&#x27;&#125;,&#123;&quot;$set&quot;:&#123;&#x27;age&#x27;:17&#125;&#125;)</span></span><br><span class="line"><span class="comment"># collection.update_many(&#123;&#x27;name&#x27;:&#x27;abaas&#x27;&#125;,&#123;&quot;$set&quot;:&#123;&#x27;age&#x27;:17&#125;&#125;)</span></span><br><span class="line"><span class="comment"># # åˆ é™¤æ•°æ®</span></span><br><span class="line"><span class="comment"># collection.delete_one(&#123;&#x27;age&#x27;:17&#125;)</span></span><br><span class="line"><span class="comment"># collection.delete_many(&#123;&#x27;age&#x27;:17&#125;)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Beautifulsoup å®æˆ˜ç”µå½±å¤©å ‚</title>
      <link href="/archives/b7fd3a30.html"/>
      <url>/archives/b7fd3a30.html</url>
      
        <content type="html"><![CDATA[<h1 id="Beautifulsoup-å®æˆ˜ç”µå½±å¤©å ‚"><a href="#Beautifulsoup-å®æˆ˜ç”µå½±å¤©å ‚" class="headerlink" title="Beautifulsoup å®æˆ˜ç”µå½±å¤©å ‚"></a><em>Beautifulsoup</em> å®æˆ˜ç”µå½±å¤©å ‚</h1><ul><li>get_textï¼šå¾—åˆ°æŸä¸ªæ ‡ç­¾ä¸‹çš„éæ ‡ç­¾å­—ç¬¦ä¸²</li><li>stringï¼šåŒä¸Š</li><li>stringsï¼šæ‰€æœ‰å­å­™æ ‡ç­¾çš„å­—ç¬¦ä¸²ï¼Œä»¥è¿­ä»£å™¨è¿”å›</li><li>stripped_stringsï¼šæ‰€æœ‰å­å­™æ ‡ç­¾çš„å­—ç¬¦ä¸²ï¼Œçœå»ç©ºç™½ï¼Œä»¥è¿­ä»£å™¨è¿”å›</li><li>re.compile()å¯ä»¥ç”¨æ¥æ¨¡ç³Šæœç´¢</li></ul><h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p>â€‹    æ˜¨å¤©è§£å†³äº†ç¼–ç é”™è¯¯çš„é—®é¢˜ï¼Œä»Šå¤©å†™èµ·æ¥å°±å¿«äº†è®¸å¤šï¼Œè¿™ä¸ªstripped_stringsç¡®å®éå¸¸å¥½ç”¨ï¼Œä½†æ˜¯ä»–ä¸æ˜¯åˆ—è¡¨ç±»å‹ï¼Œæ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨ä¸‹æ ‡è¡¨ç¤ºï¼Œä½†æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢list()å°†å…¶è½¬æ¢æˆä¸€ä¸ªåˆ—è¡¨ç±»å‹ï¼Œè¿™æ ·åœ¨éœ€è¦ç”¨ä¸‹æ ‡çš„æ—¶å€™å°±ä¼šæ–¹ä¾¿è®¸å¤šã€‚æ¯”å¦‚æˆ‘ä»¬ä¸‹æ–¹çš„ä»£ç ä¸­ï¼Œéœ€è¦å†ä¸€ä¸ªforå¾ªç¯ä¸­éå†å¦ä¸€ä¸ªforå¾ªç¯æ—¶å°±éœ€è¦ç”¨åˆ°ä¸‹æ ‡æ“ä½œï¼Œå–åˆ°ä¸€ä¸ªç‰¹å®šèµ·å§‹çš„åˆ‡ç‰‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">HEADER = &#123;</span><br><span class="line"><span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">FIRST_URL = <span class="string">&quot;https://www.dytt8.net&quot;</span></span><br><span class="line">LIST_URL = <span class="string">&quot;https://www.dytt8.net/html/gndy/dyzz/list_23_&#123;&#125;.html&quot;</span></span><br><span class="line">test_url = <span class="string">&quot;https://www.dytt8.net/html/gndy/dyzz/20200226/59748.html&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ¯ä¸ªlisté¡µé¢çš„url</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_ls_urls</span>(<span class="params">f, l</span>):</span><br><span class="line">    ls_urls = [LIST_URL.<span class="built_in">format</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(f,l+<span class="number">1</span>)]</span><br><span class="line">    <span class="keyword">return</span> ls_urls</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ¯ä¸ªé¡µé¢çš„url</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_item_urls</span>(<span class="params">url</span>):</span><br><span class="line">    urls = []</span><br><span class="line">    resp = requests.get(url, headers=HEADER)</span><br><span class="line">    html = resp.content.decode(<span class="string">&#x27;gbk&#x27;</span>, <span class="string">&quot;ignore&quot;</span>)</span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    alists = soup.find_all(<span class="string">&#x27;a&#x27;</span>, class_=<span class="string">&#x27;ulink&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> alist <span class="keyword">in</span> alists:</span><br><span class="line">        item_url = FIRST_URL+alist[<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">        urls.append(item_url)</span><br><span class="line">    <span class="keyword">return</span> urls</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ¯ä¸ªurlè¯¦æƒ…é¡µçš„ç±»å®¹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">all_items</span>(<span class="params">url</span>):</span><br><span class="line">    resp = requests.get(url, headers=HEADER)</span><br><span class="line">    html = resp.content.decode(<span class="string">&#x27;gbk&#x27;</span>, <span class="string">&quot;ignore&quot;</span>)</span><br><span class="line">    soup = BeautifulSoup(html, <span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">    title = soup.find(<span class="string">&#x27;font&#x27;</span>,color=<span class="string">&quot;#07519a&quot;</span>)</span><br><span class="line">    name = title.string</span><br><span class="line">    zoom = soup.select(<span class="string">&#x27;div#Zoom&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># print(len(zoom))</span></span><br><span class="line">    items = <span class="built_in">list</span>(zoom.stripped_strings)</span><br><span class="line">    <span class="keyword">for</span> index, item <span class="keyword">in</span> <span class="built_in">enumerate</span>(items):</span><br><span class="line">        <span class="keyword">if</span> item.startswith(<span class="string">&#x27;â—å¹´ã€€ã€€ä»£&#x27;</span>):</span><br><span class="line">            year = item.replace(<span class="string">&#x27;â—å¹´ã€€ã€€ä»£&#x27;</span>, <span class="string">&quot;&quot;</span>).strip()</span><br><span class="line">        <span class="keyword">elif</span> item.startswith(<span class="string">&#x27;â—äº§ã€€ã€€åœ°&#x27;</span>):</span><br><span class="line">            contury = item.replace(<span class="string">&#x27;â—äº§ã€€ã€€åœ°&#x27;</span>, <span class="string">&quot;&quot;</span>).strip()</span><br><span class="line">        <span class="keyword">elif</span> item.startswith(<span class="string">&#x27;â—è±†ç“£è¯„åˆ†&#x27;</span>):</span><br><span class="line">            db_rate = item.replace(<span class="string">&#x27;â—è±†ç“£è¯„åˆ†&#x27;</span>, <span class="string">&quot;&quot;</span>).strip()</span><br><span class="line">        <span class="keyword">elif</span> item.startswith(<span class="string">&#x27;â—ä¸»ã€€ã€€æ¼”&#x27;</span>):</span><br><span class="line">            actors = []</span><br><span class="line">            one = item.replace(<span class="string">&#x27;â—ä¸»ã€€ã€€æ¼”&#x27;</span>, <span class="string">&quot;&quot;</span>).strip()</span><br><span class="line">            actors.append(one)</span><br><span class="line">            <span class="keyword">for</span> actor <span class="keyword">in</span> items[index:]:</span><br><span class="line">                <span class="keyword">if</span> actor.startswith(<span class="string">&#x27;â—æ ‡ã€€ã€€ç­¾&#x27;</span>):</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    actors.append(actor.strip())</span><br><span class="line">        <span class="keyword">elif</span> item.startswith(<span class="string">&#x27;ã€ä¸‹è½½åœ°å€ã€‘&#x27;</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    cili = zoom.find_all(<span class="string">&#x27;a&#x27;</span>, href=re.<span class="built_in">compile</span>(<span class="string">&#x27;magnet&#x27;</span>))[<span class="number">0</span>][<span class="string">&#x27;href&#x27;</span>]</span><br><span class="line">    movie = &#123;&#125;</span><br><span class="line">    <span class="comment"># é˜²æ­¢æŸä¸ªvalueä¸å­˜åœ¨è¿™é‡Œç”¨å¤šå¯¹tryå’Œexceptæ¥è·³è¿‡</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movie[<span class="string">&#x27;name&#x27;</span>] = name</span><br><span class="line">    <span class="keyword">except</span> UnboundLocalError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movie[<span class="string">&#x27;year&#x27;</span>] = year</span><br><span class="line">    <span class="keyword">except</span> UnboundLocalError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movie[<span class="string">&#x27;contury&#x27;</span>] = contury</span><br><span class="line">    <span class="keyword">except</span> UnboundLocalError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movie[<span class="string">&#x27;db_rate&#x27;</span>] = db_rate</span><br><span class="line">    <span class="keyword">except</span> UnboundLocalError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movie[<span class="string">&#x27;actors&#x27;</span>] = actors</span><br><span class="line">    <span class="keyword">except</span> UnboundLocalError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        movie[<span class="string">&#x27;download&#x27;</span>] = cili</span><br><span class="line">    <span class="keyword">except</span> UnboundLocalError:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">return</span> movie</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># çˆ¬è™«ç¨‹åº</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">spider</span>(<span class="params">a, b</span>):</span><br><span class="line">    ls_urls = get_ls_urls(a, b + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> ls_url <span class="keyword">in</span> ls_urls:</span><br><span class="line">        item_urls = get_item_urls(ls_url)</span><br><span class="line">        <span class="keyword">for</span> item_url <span class="keyword">in</span> item_urls:</span><br><span class="line">            movie = all_items(item_url)</span><br><span class="line">            <span class="built_in">print</span>(movie)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    spider(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>â€‹    ä»Šå¤©å†™ä»£ç å†™çš„èˆ’æœï¼Œåé¢å¼€å§‹å­¦ä¹ æ­£åˆ™ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> Beautifulsoup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨seleniumå¯¹æ‹‰é’©ç½‘è¿›è¡Œçˆ¬å–</title>
      <link href="/archives/777c3530.html"/>
      <url>/archives/777c3530.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨seleniumå¯¹æ‹‰é’©ç½‘è¿›è¡Œçˆ¬å–"><a href="#ä½¿ç”¨seleniumå¯¹æ‹‰é’©ç½‘è¿›è¡Œçˆ¬å–" class="headerlink" title="ä½¿ç”¨seleniumå¯¹æ‹‰é’©ç½‘è¿›è¡Œçˆ¬å–"></a>ä½¿ç”¨seleniumå¯¹æ‹‰é’©ç½‘è¿›è¡Œçˆ¬å–</h1><h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2><ul><li>å®‰è£…chrome</li><li>å®‰è£…<a href="http://chromedriver.storage.googleapis.com/index.html">chrome driver</a>ï¼ˆé€‰æ‹©ä¸chromeå¯¹åº”çš„ç‰ˆæœ¬ï¼‰</li><li><code>pip install selenium</code>å®‰è£…selenium</li><li><code>pip install lxml</code>å®‰è£…lxml</li><li><code>pip install re</code>å®‰è£…re</li></ul><h2 id="çˆ¬å–æ€è·¯"><a href="#çˆ¬å–æ€è·¯" class="headerlink" title="çˆ¬å–æ€è·¯"></a>çˆ¬å–æ€è·¯</h2><p>â€‹    æ‹‰é’©ç½‘çš„åçˆ¬è™«æœºåˆ¶å¾ˆæ¶å¿ƒï¼Œè¦æƒ³é¡ºåˆ©çš„çˆ¬å–æ•°æ®è¦åšåˆ°ä¸€ä¸‹å‡ ç‚¹ï¼š</p><ol><li>æ§åˆ¶çˆ¬è™«çš„é€Ÿåº¦ï¼Œé€Ÿåº¦è¿‡å¿«ä¼šå¼¹å‡ºç™»é™†ç•Œé¢</li><li>åœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶ä¼šæœ‰ä¸€ä¸ªæ‚¬æµ®åœ¨æ•´ä¸ªé¡µé¢ä¸Šçš„ä¸€ä¸ªå¹¿å‘Šï¼Œåé¢å°±æ²¡æœ‰äº†</li><li>ä»–çš„æ•°æ®çš„ç”¨jsåŠ è½½çš„ï¼Œæ•´ä¸ªç½‘é¡µå¹¶æ²¡æœ‰åˆ·æ–°</li></ol><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥æ‰€éœ€æ¨¡å—</span></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡†å¤‡æ•°æ®</span></span><br><span class="line">drvie_path = <span class="string">&#x27;D:\chromedriver\chromedriver.exe&#x27;</span></span><br><span class="line">url = <span class="string">&#x27;https://www.lagou.com/jobs/list_python?labelWords=&amp;fromSearch=true&amp;suginput=&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LaGo</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,driverpath,url</span>):</span><br><span class="line">        self.driverpath = driverpath</span><br><span class="line">        self.url = url</span><br><span class="line">        self.driver = webdriver.Chrome(executable_path=self.driverpath)</span><br><span class="line">        self.header = [<span class="string">&#x27;command&#x27;</span>,<span class="string">&#x27;job_detail&#x27;</span>]</span><br><span class="line">        self.f = <span class="built_in">open</span>(<span class="string">&#x27;re.csv&#x27;</span>, <span class="string">&#x27;a+&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        self.writer = csv.DictWriter(self.f, self.header)</span><br><span class="line">        self.write = self.writer.writeheader()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ¤æ–­ä¸‹ä¸€é¡µçš„æŒ‰é’®æ˜¯å¦å¯ä»¥è¢«ç‚¹å‡»ï¼Œå¦‚æœå¯ä»¥ï¼Œåˆ™ç‚¹å‡»ä¸‹ä¸€é¡µ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">next_page</span>(<span class="params">self</span>):</span><br><span class="line">        WebDriverWait(self.driver, <span class="number">10</span>).until(EC.presence_of_element_located((By.XPATH, <span class="string">&quot;//span[@action=&#x27;next&#x27;]&quot;</span>)))</span><br><span class="line">        next_p = self.driver.find_element_by_xpath(<span class="string">&quot;//span[@action=&#x27;next&#x27;]&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;dis&#x27;</span> <span class="keyword">in</span> next_p.get_attribute(<span class="string">&#x27;class&#x27;</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            time.sleep(<span class="number">2</span>)</span><br><span class="line">            next_p.click()</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è§£æè¯¦æƒ…é¡µé¢çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">parse_items</span>(<span class="params">self</span>):</span><br><span class="line">        html = etree.HTML(self.driver.page_source)</span><br><span class="line">        commands = html.xpath(<span class="string">&quot;//h3/span/text()&quot;</span>)</span><br><span class="line">        command = <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">map</span>(<span class="keyword">lambda</span> _: re.sub(<span class="string">r&#x27;\s&#x27;</span>, <span class="string">&#x27;&#x27;</span>, _), commands[<span class="number">0</span>:-<span class="number">1</span>]))</span><br><span class="line">        job_details = html.xpath(<span class="string">&quot;//div[@class=&#x27;job-detail&#x27;]//text()&quot;</span>)</span><br><span class="line">        job_detail = <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">map</span>(<span class="keyword">lambda</span> _: re.sub(<span class="string">r&#x27;\s&#x27;</span>, <span class="string">&#x27;&#x27;</span>, _), job_details))</span><br><span class="line">        items = &#123;<span class="string">&#x27;command&#x27;</span>: command, <span class="string">&#x27;job_detail&#x27;</span>: job_detail&#125;</span><br><span class="line">        <span class="keyword">return</span> items</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.get(url)</span><br><span class="line">        btn = self.driver.find_element_by_xpath(<span class="string">&quot;//div[@class=&#x27;body-btn&#x27;]&quot;</span>)</span><br><span class="line">        btn.click()</span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            items = []</span><br><span class="line">            pythons = self.driver.find_elements_by_xpath(<span class="string">&quot;//div[@class=&#x27;position&#x27;]//h3&quot;</span>)</span><br><span class="line">            <span class="keyword">for</span> python <span class="keyword">in</span> pythons:</span><br><span class="line">                <span class="comment"># time.sleep(2)</span></span><br><span class="line">                python.click()</span><br><span class="line">                WebDriverWait(self.driver,<span class="number">10</span>).until(EC.number_of_windows_to_be(<span class="number">2</span>))</span><br><span class="line">                self.driver.switch_to.window(self.driver.window_handles[<span class="number">1</span>])</span><br><span class="line">                item = self.parse_items()</span><br><span class="line">                items.append(item)</span><br><span class="line">                self.driver.close()</span><br><span class="line">                self.driver.switch_to.window(self.driver.window_handles[<span class="number">0</span>])</span><br><span class="line">            self.writer.writerows(items)</span><br><span class="line">            flag = self.next_page()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> flag:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            WebDriverWait(self.driver, <span class="number">10</span>).until(EC.staleness_of(self.driver.find_element_by_xpath(<span class="string">&quot;//div[@class=&#x27;position&#x27;]//h3&quot;</span>)))</span><br><span class="line">        self.driver.quit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    lago = LaGo(drvie_path, url)</span><br><span class="line">    lago.run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå…³äºJsonå’Œcsvæ ¼å¼çš„æ•°æ®å¤„ç†</title>
      <link href="/archives/4d41c51a.html"/>
      <url>/archives/4d41c51a.html</url>
      
        <content type="html"><![CDATA[<h1 id="pythonå…³äºJsonå’Œcsvæ ¼å¼çš„æ•°æ®å¤„ç†"><a href="#pythonå…³äºJsonå’Œcsvæ ¼å¼çš„æ•°æ®å¤„ç†" class="headerlink" title="pythonå…³äºJsonå’Œcsvæ ¼å¼çš„æ•°æ®å¤„ç†"></a>pythonå…³äºJsonå’Œcsvæ ¼å¼çš„æ•°æ®å¤„ç†</h1><ul><li><h2 id="Jsonçš„å¤„ç†æ–¹æ³•"><a href="#Jsonçš„å¤„ç†æ–¹æ³•" class="headerlink" title="Jsonçš„å¤„ç†æ–¹æ³•"></a>Jsonçš„å¤„ç†æ–¹æ³•</h2></li></ul><p><code>dumps</code>ç”¨äºå°†åˆ—è¡¨å­—å…¸åµŒå¥—ä¿å­˜ä¸ºJsonæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</p><p><code>dump</code>ç”¨äºå°†åˆ—è¡¨å­—å…¸åµŒå¥—ä¿å­˜ä¸ºJsonæ–‡ä»¶ã€‚</p><p><code>loads</code>ç”¨äºè¯»å–Jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºåˆ—è¡¨å­—å…¸åµŒå¥—ã€‚</p><p><code>load</code>ç”¨äºè¯»å–Jsonæ–‡ä»¶å¹¶ä¸”è½¬æ¢ä¸ºåˆ—è¡¨å­—å…¸åµŒå¥—ã€‚</p><p><code>ensure_ascii=False</code>é˜²æ­¢æ— æ³•æ˜¾ç¤ºä¸­æ–‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥Jsonæ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line">book = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;è¯´ä¸€&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;size&#x27;</span>:<span class="string">&#x27;16M&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;çˆ¸çˆ¸å»å“ªäº†&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;size&#x27;</span>:<span class="string">&#x27;123m&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">result = json.dumps(book,ensure_ascii=<span class="literal">False</span>, )</span><br><span class="line">f=<span class="built_in">open</span>(<span class="string">&#x27;book.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">result = json.dump(book,f,ensure_ascii=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><ul><li><h2 id="csvçš„å¤„ç†æ–¹æ³•"><a href="#csvçš„å¤„ç†æ–¹æ³•" class="headerlink" title="csvçš„å¤„ç†æ–¹æ³•"></a>csvçš„å¤„ç†æ–¹æ³•</h2></li></ul><h3 id="è¯»å–"><a href="#è¯»å–" class="headerlink" title="è¯»å–"></a>è¯»å–</h3><p><code>reader</code>è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ï¼ˆæœ‰è¡¨å¤´ï¼‰ï¼Œä¸€è¡Œä¸€ä¸ªåˆ—è¡¨é…åˆ<code>next</code>ä½¿ç”¨</p><p><code>dictreader</code>è¿”å›æœ‰åºçš„å­—å…¸</p><h3 id="å†™å…¥"><a href="#å†™å…¥" class="headerlink" title="å†™å…¥"></a>å†™å…¥</h3><p><code>csv.writer()</code>åˆ›å»ºä¸€ä¸ªwriter</p><p>ä½¿ç”¨<code>writerow()</code>æˆ–è€…<code>writerows()</code>è¿›è¡Œå†™å…¥</p><p><code>csv.dictwriter(*fp,header</code>)åˆ›å»ºä»¥æ¶ædictwriter</p><p><code>writeheader()</code>å†™å…¥è¡¨å¤´</p><p><code>writerows()</code>å†™å…¥åˆ—è¡¨å­—å…¸åµŒå¥—</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line">header = [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;height&#x27;</span>]</span><br><span class="line">data1 = [(<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="number">18</span>,<span class="number">160</span>),(<span class="string">&#x27;æå››&#x27;</span>,<span class="number">19</span>,<span class="number">180</span>),(<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="number">12</span>,<span class="number">110</span>)]</span><br><span class="line">data2 = [&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">18</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">160</span>&#125;,&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;æå››&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="number">19</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">180</span>&#125;,&#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;ç‹äº”&#x27;</span>,<span class="string">&quot;age&quot;</span>:<span class="number">12</span>,<span class="string">&#x27;height&#x27;</span>:<span class="number">110</span>&#125;]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">writerow_method</span>():</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;item.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>,newline=<span class="string">&quot;&quot;</span>)</span><br><span class="line">    writer = csv.writer(f)</span><br><span class="line">    writer.writerow(header)</span><br><span class="line">    writer.writerows(data1)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dictwrite_method</span>():</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&#x27;dict.csv&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>,newline=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    writer = csv.DictWriter(f,header)</span><br><span class="line">    writer.writeheader()</span><br><span class="line">    writer.writerows(data2)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    dictwrite_method()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯åˆ†äº« </category>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pythons </tag>
            
            <tag> csv </tag>
            
            <tag> json </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
